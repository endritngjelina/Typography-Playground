<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typography Playground Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&family=Source+Code+Pro:wght@200;300;400;500;600;700;800;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&family=Montserrat:wght@100;200;300;400;500;600;700;800;900&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4f46e5;
            --primary-light: #6366f1;
            --primary-dark: #3730a3;
            --secondary: #06b6d4;
            --accent: #f59e0b;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --bg-primary: #0f0f23;
            --bg-secondary: #1e1b3a;
            --bg-tertiary: #2d2a4a;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #64748b;
            --border: #374151;
            --border-light: #4b5563;
            --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-lg: 0 35px 60px -12px rgba(0, 0, 0, 0.35);
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(79, 70, 229, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(6, 182, 212, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(245, 158, 11, 0.05) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(1deg); }
            66% { transform: translateY(10px) rotate(-1deg); }
        }

        .header {
            background: rgba(30, 27, 58, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            font-size: 1.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo::before {
            content: 'âœ¦';
            font-size: 1.8rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: pulse 2s ease-in-out infinite;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .btn:hover::before {
            transform: translateX(100%);
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: 0 8px 25px rgba(79, 70, 229, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(79, 70, 229, 0.4);
        }

        .btn-secondary {
            background: var(--glass);
            color: var(--text-primary);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 2rem;
            min-height: calc(100vh - 120px);
        }

        .sidebar {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            backdrop-filter: blur(20px);
            padding: 2rem;
            height: fit-content;
            position: sticky;
            top: 140px;
            box-shadow: var(--shadow);
        }

        .section {
            margin-bottom: 2rem;
        }

        .section:last-child {
            margin-bottom: 0;
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 16px;
            background: var(--gradient);
            border-radius: 2px;
        }

        .control-group {
            margin-bottom: 1.5rem;
        }

        .control-group:last-child {
            margin-bottom: 0;
        }

        .label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .input, .select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border);
            border-radius: 12px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        .input:focus, .select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
            background: var(--bg-tertiary);
        }

        .range-input {
            width: 100%;
            margin: 0.5rem 0;
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            border-radius: 3px;
            background: var(--bg-secondary);
            outline: none;
        }

        .range-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--gradient);
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
            transition: all 0.2s ease;
        }

        .range-input::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(79, 70, 229, 0.4);
        }

        .range-input::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--gradient);
            cursor: pointer;
            border: none;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .range-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .checkbox-item:hover {
            background: var(--glass);
            border-color: var(--glass-border);
        }

        .checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid var(--border);
            border-radius: 4px;
            position: relative;
            transition: all 0.2s ease;
        }

        .checkbox.checked {
            background: var(--gradient);
            border-color: var(--primary);
        }

        .checkbox.checked::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .preview-area {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            backdrop-filter: blur(20px);
            padding: 3rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .preview-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--gradient);
        }

        .preview-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }

        .tab {
            padding: 0.75rem 1.5rem;
            border: none;
            background: none;
            color: var(--text-muted);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab:hover:not(.active) {
            color: var(--text-secondary);
        }

        .preview-content {
            min-height: 500px;
        }

        .sample-text {
            transition: all 0.3s ease;
            line-height: 1.6;
        }

        .text-samples {
            display: grid;
            gap: 2rem;
        }

        .sample-section {
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            transition: all 0.3s ease;
        }

        .sample-section:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .export-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1.5rem;
        }

        .code-output {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            font-family: 'Source Code Pro', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
            color: var(--text-secondary);
            white-space: pre-wrap;
            overflow-x: auto;
            margin: 1rem 0;
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s ease;
        }

        .copy-btn:hover {
            background: var(--primary-light);
            transform: translateY(-1px);
        }

        .preset-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .preset-btn {
            padding: 0.75rem 1rem;
            border: 1px solid var(--border);
            border-radius: 12px;
            background: var(--glass);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.875rem;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .preset-btn:hover {
            border-color: var(--primary);
            background: rgba(79, 70, 229, 0.1);
            transform: translateY(-2px);
        }

        .metrics-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
            padding: 1rem;
            background: var(--glass);
            border-radius: 12px;
            border: 1px solid var(--glass-border);
        }

        .metric {
            text-align: center;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .comparison-view {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .comparison-panel {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 1.5rem;
        }

        .real-time-stats {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 1rem;
            backdrop-filter: blur(20px);
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            min-width: 200px;
            transform: translateY(100px);
            opacity: 0;
            animation: slideUp 0.5s ease forwards;
        }

        @keyframes slideUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .animate-in {
            animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            opacity: 0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Color picker styles */
        .color-picker {
            width: 100%;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: var(--glass);
            border: 1px solid var(--glass-border);
        }

        /* Advanced features */
        .feature-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 1rem;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .feature-toggle:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .toggle-switch {
            width: 48px;
            height: 24px;
            background: var(--bg-secondary);
            border-radius: 12px;
            position: relative;
            transition: all 0.3s ease;
            border: 1px solid var(--border);
        }

        .toggle-switch.active {
            background: var(--gradient);
            border-color: var(--primary);
        }

        .toggle-switch::after {
            content: '';
            width: 18px;
            height: 18px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .toggle-switch.active::after {
            transform: translateX(24px);
        }

        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .sidebar {
                position: static;
                order: 2;
            }
            
            .header-content {
                padding: 0 1rem;
            }
            
            .main-container {
                padding: 1rem;
            }
        }

        @media (max-width: 640px) {
            .header-actions {
                gap: 0.5rem;
            }
            
            .btn {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
            }
            
            .preview-area {
                padding: 1.5rem;
            }
            
            .sidebar {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">Typography Playground Pro</div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="resetToDefaults()">
                    <span>â†»</span> Reset
                </button>
                <button class="btn btn-secondary" onclick="randomizeStyles()">
                    <span>ðŸŽ²</span> Random
                </button>
                <button class="btn btn-primary" onclick="exportCSS()">
                    <span>â†“</span> Export CSS
                </button>
            </div>
        </div>
    </header>

    <div class="main-container">
        <aside class="sidebar animate-in">
            <div class="section">
                <h3 class="section-title">Font Family</h3>
                <div class="control-group">
                    <label class="label">Primary Font</label>
                    <select class="select" id="fontFamily" onchange="updatePreview()">
                        <option value="Inter">Inter</option>
                        <option value="Playfair Display">Playfair Display</option>
                        <option value="Source Code Pro">Source Code Pro</option>
                        <option value="Crimson Text">Crimson Text</option>
                        <option value="Montserrat">Montserrat</option>
                        <option value="Lora">Lora</option>
                        <option value="Roboto">Roboto</option>
                        <option value="Open Sans">Open Sans</option>
                        <option value="system-ui">System UI</option>
                        <option value="Georgia">Georgia</option>
                        <option value="Times New Roman">Times New Roman</option>
                        <option value="Arial">Arial</option>
                        <option value="Helvetica">Helvetica</option>
                    </select>
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">Typography Scale</h3>
                <div class="control-group">
                    <label class="label">Font Size: <span id="fontSizeValue">16px</span></label>
                    <input type="range" class="range-input" id="fontSize" min="12" max="72" value="16" oninput="updatePreview()">
                    <div class="range-labels">
                        <span>12px</span>
                        <span>72px</span>
                    </div>
                </div>
                <div class="control-group">
                    <label class="label">Font Weight: <span id="fontWeightValue">400</span></label>
                    <input type="range" class="range-input" id="fontWeight" min="100" max="900" step="100" value="400" oninput="updatePreview()">
                    <div class="range-labels">
                        <span>100</span>
                        <span>900</span>
                    </div>
                </div>
                <div class="control-group">
                    <label class="label">Line Height: <span id="lineHeightValue">1.6</span></label>
                    <input type="range" class="range-input" id="lineHeight" min="1" max="3" step="0.1" value="1.6" oninput="updatePreview()">
                    <div class="range-labels">
                        <span>1.0</span>
                        <span>3.0</span>
                    </div>
                </div>
                <div class="control-group">
                    <label class="label">Letter Spacing: <span id="letterSpacingValue">0px</span></label>
                    <input type="range" class="range-input" id="letterSpacing" min="-2" max="10" step="0.1" value="0" oninput="updatePreview()">
                    <div class="range-labels">
                        <span>-2px</span>
                        <span>10px</span>
                    </div>
                </div>
                <div class="control-group">
                    <label class="label">Word Spacing: <span id="wordSpacingValue">0px</span></label>
                    <input type="range" class="range-input" id="wordSpacing" min="-5" max="20" step="0.5" value="0" oninput="updatePreview()">
                    <div class="range-labels">
                        <span>-5px</span>
                        <span>20px</span>
                    </div>
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">Text Styling</h3>
                <div class="checkbox-group">
                    <div class="checkbox-item" onclick="toggleCheckbox('italic')">
                        <div class="checkbox" id="italic-checkbox"></div>
                        <span>Italic</span>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox('underline')">
                        <div class="checkbox" id="underline-checkbox"></div>
                        <span>Underline</span>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox('uppercase')">
                        <div class="checkbox" id="uppercase-checkbox"></div>
                        <span>Uppercase</span>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox('smallCaps')">
                        <div class="checkbox" id="smallCaps-checkbox"></div>
                        <span>Small Caps</span>
                    </div>
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">Colors & Effects</h3>
                <div class="control-group">
                    <label class="label">Text Color</label>
                    <input type="color" class="color-picker" id="textColor" value="#f8fafc" onchange="updatePreview()">
                </div>
                <div class="control-group">
                    <label class="label">Background Color</label>
                    <input type="color" class="color-picker" id="backgroundColor" value="#1e1b3a" onchange="updatePreview()">
                </div>
                <div class="control-group">
                    <label class="label">Text Shadow Blur: <span id="textShadowValue">0px</span></label>
                    <input type="range" class="range-input" id="textShadow" min="0" max="20" value="0" oninput="updatePreview()">
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">Advanced Features</h3>
                <div class="feature-toggle" onclick="toggleFeature('darkMode')">
                    <span>Dark Mode</span>
                    <div class="toggle-switch active" id="darkMode-toggle"></div>
                </div>
                <div class="feature-toggle" onclick="toggleFeature('animations')">
                    <span>Animations</span>
                    <div class="toggle-switch active" id="animations-toggle"></div>
                </div>
                <div class="feature-toggle" onclick="toggleFeature('realTimeStats')">
                    <span>Real-time Stats</span>
                    <div class="toggle-switch active" id="realTimeStats-toggle"></div>
                </div>
            </div>

            <div class="section">
                <h3 class="section-title">Presets</h3>
                <div class="preset-buttons">
                    <button class="preset-btn" onclick="applyPreset('elegant')">Elegant</button>
                    <button class="preset-btn" onclick="applyPreset('modern')">Modern</button>
                    <button class="preset-btn" onclick="applyPreset('classic')">Classic</button>
                    <button class="preset-btn" onclick="applyPreset('bold')">Bold</button>
                    <button class="preset-btn" onclick="applyPreset('minimal')">Minimal</button>
                    <button class="preset-btn" onclick="applyPreset('creative')">Creative</button>
                </div>
            </div>
        </aside>

        <main class="preview-area animate-in">
            <div class="preview-tabs">
                <button class="tab active" onclick="switchTab('preview')">Live Preview</button>
                <button class="tab" onclick="switchTab('comparison')">A/B Compare</button>
                <button class="tab" onclick="switchTab('export')">Export</button>
                <button class="tab" onclick="switchTab('metrics')">Metrics</button>
            </div>

            <div class="preview-content">
                <div id="preview-tab" class="tab-content">
                    <div class="text-samples">
                        <div class="sample-section">
                            <div class="sample-text" id="heading-sample">
                                <h1 style="margin: 0 0 1rem 0;">The Art of Typography</h1>
                                <h2 style="margin: 0 0 0.5rem 0;">Crafting Beautiful Text</h2>
                                <h3 style="margin: 0 0 0.5rem 0;">Design Principles Matter</h3>
                            </div>
                        </div>
                        <div class="sample-section">
                            <div class="sample-text" id="paragraph-sample">
                                <p>Typography is the art and technique of arranging type to make written language legible, readable, and appealing when displayed. The arrangement of type involves selecting typefaces, point sizes, line lengths, line-spacing, and letter-spacing, and adjusting the space between pairs of letters.</p>
                                <p>Good typography enhances the reading experience and helps convey the intended message effectively. It's not just about making text look prettyâ€”it's about creating a harmonious relationship between form and function that serves both aesthetic and practical purposes.</p>
                            </div>
                        </div>
                        <div class="sample-section">
                            <div class="sample-text" id="quote-sample" style="font-style: italic; font-size: 1.2em; text-align: center; padding: 2rem;">
                                "Typography is a beautiful group of letters, not a group of beautiful letters."
                                <div style="margin-top: 1rem; font-size: 0.9em; opacity: 0.8;">â€” Matthew Carter</div>
                            </div>
                        </div>
                        <div class="sample-section">
                            <div class="sample-text" id="list-sample">
                                <h4 style="margin: 0 0 1rem 0;">Key Typography Principles:</h4>
                                <ul style="margin: 0; padding-left: 1.5rem;">
                                    <li>Hierarchy and contrast</li>
                                    <li>Readability and legibility</li>
                                    <li>Appropriate font pairing</li>
                                    <li>Consistent spacing and alignment</li>
                                    <li>Contextual appropriateness</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="comparison-tab" class="tab-content" style="display: none;">
                    <div class="comparison-view">
                        <div class="comparison-panel">
                            <h4 style="margin: 0 0 1rem 0; text-align: center; color: var(--text-secondary);">Current Style</h4>
                            <div class="sample-text" id="comparison-current">
                                <h3>Typography Comparison</h3>
                                <p>This is how your current typography settings look. You can compare different variations side by side to make better design decisions.</p>
                            </div>
                        </div>
                        <div class="comparison-panel">
                            <h4 style="margin: 0 0 1rem 0; text-align: center; color: var(--text-secondary);">Previous Style</h4>
                            <div class="sample-text" id="comparison-previous">
                                <h3>Typography Comparison</h3>
                                <p>This shows your previous typography settings for easy comparison. Toggle between different styles to see what works best.</p>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 2rem;">
                        <button class="btn btn-secondary" onclick="saveForComparison()">
                            <span>ðŸ“·</span> Save Current Style
                        </button>
                        <button class="btn btn-secondary" onclick="swapComparison()">
                            <span>â‡„</span> Swap Styles
                        </button>
                    </div>
                </div>

                <div id="export-tab" class="tab-content" style="display: none;">
                    <div class="export-section">
                        <h4 style="margin: 0 0 1rem 0;">CSS Export</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 1rem;">Copy and paste this CSS into your project:</p>
                        <div class="code-output" id="css-output">
                            <button class="copy-btn" onclick="copyCSS()">Copy</button>
                            <code id="css-code">/* Your generated CSS will appear here */</code>
                        </div>
                        <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                            <button class="btn btn-secondary" onclick="exportJSON()">
                                <span>ðŸ“„</span> Export JSON
                            </button>
                            <button class="btn btn-secondary" onclick="importJSON()">
                                <span>ðŸ“‚</span> Import JSON
                            </button>
                            <button class="btn btn-secondary" onclick="generateSCSS()">
                                <span>ðŸŽ¨</span> Generate SCSS
                            </button>
                        </div>
                        <input type="file" id="json-import" accept=".json" style="display: none;" onchange="handleJSONImport(event)">
                    </div>
                </div>

                <div id="metrics-tab" class="tab-content" style="display: none;">
                    <div class="metrics-display" id="typography-metrics">
                        <div class="metric">
                            <div class="metric-value" id="readability-score">8.5</div>
                            <div class="metric-label">Readability</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="contrast-ratio">4.2</div>
                            <div class="metric-label">Contrast</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="line-length">65</div>
                            <div class="metric-label">Chars/Line</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="font-load-time">0.3s</div>
                            <div class="metric-label">Load Time</div>
                        </div>
                    </div>
                    <div style="margin-top: 2rem;">
                        <h4 style="margin: 0 0 1rem 0;">Accessibility Analysis</h4>
                        <div id="accessibility-report" style="background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; padding: 1.5rem;">
                            <div style="margin-bottom: 1rem;">
                                <strong style="color: var(--success);">âœ“ WCAG AA Compliant</strong>
                            </div>
                            <div style="margin-bottom: 0.5rem; color: var(--text-secondary);">
                                â€¢ Font size is above 16px minimum
                            </div>
                            <div style="margin-bottom: 0.5rem; color: var(--text-secondary);">
                                â€¢ Contrast ratio meets AA standards
                            </div>
                            <div style="color: var(--text-secondary);">
                                â€¢ Line height provides good readability
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div class="real-time-stats" id="stats-panel">
        <h5 style="margin: 0 0 1rem 0; font-size: 0.875rem;">Real-time Stats</h5>
        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
            <span style="color: var(--text-secondary);">Font Size:</span>
            <span id="live-font-size">16px</span>
        </div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
            <span style="color: var(--text-secondary);">Line Height:</span>
            <span id="live-line-height">1.6</span>
        </div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
            <span style="color: var(--text-secondary);">Characters:</span>
            <span id="live-char-count">-</span>
        </div>
        <div style="display: flex; justify-content: space-between;">
            <span style="color: var(--text-secondary);">Words:</span>
            <span id="live-word-count">-</span>
        </div>
    </div>

    <script>
        // Global state management
        const state = {
            currentStyles: {},
            previousStyles: {},
            features: {
                darkMode: true,
                animations: true,
                realTimeStats: true
            }
        };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeDefaults();
            updatePreview();
            updateLiveStats();
            animateOnScroll();
        });

        // Default typography settings
        function initializeDefaults() {
            const defaults = {
                fontFamily: 'Inter',
                fontSize: 16,
                fontWeight: 400,
                lineHeight: 1.6,
                letterSpacing: 0,
                wordSpacing: 0,
                textColor: '#f8fafc',
                backgroundColor: '#1e1b3a',
                textShadow: 0,
                italic: false,
                underline: false,
                uppercase: false,
                smallCaps: false
            };

            Object.keys(defaults).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    if (element.type === 'range' || element.type === 'color') {
                        element.value = defaults[key];
                    } else if (element.tagName === 'SELECT') {
                        element.value = defaults[key];
                    }
                }
            });

            state.currentStyles = {...defaults};
            state.previousStyles = {...defaults};
        }

        // Update preview with current settings
        function updatePreview() {
            const fontFamily = document.getElementById('fontFamily').value;
            const fontSize = document.getElementById('fontSize').value;
            const fontWeight = document.getElementById('fontWeight').value;
            const lineHeight = document.getElementById('lineHeight').value;
            const letterSpacing = document.getElementById('letterSpacing').value;
            const wordSpacing = document.getElementById('wordSpacing').value;
            const textColor = document.getElementById('textColor').value;
            const backgroundColor = document.getElementById('backgroundColor').value;
            const textShadow = document.getElementById('textShadow').value;

            // Update display values
            document.getElementById('fontSizeValue').textContent = fontSize + 'px';
            document.getElementById('fontWeightValue').textContent = fontWeight;
            document.getElementById('lineHeightValue').textContent = lineHeight;
            document.getElementById('letterSpacingValue').textContent = letterSpacing + 'px';
            document.getElementById('wordSpacingValue').textContent = wordSpacing + 'px';
            document.getElementById('textShadowValue').textContent = textShadow + 'px';

            // Build CSS styles
            const styles = {
                fontFamily: fontFamily === 'system-ui' ? 'system-ui, -apple-system, sans-serif' : `'${fontFamily}', sans-serif`,
                fontSize: fontSize + 'px',
                fontWeight: fontWeight,
                lineHeight: lineHeight,
                letterSpacing: letterSpacing + 'px',
                wordSpacing: wordSpacing + 'px',
                color: textColor,
                backgroundColor: backgroundColor,
                textShadow: textShadow > 0 ? `0 2px ${textShadow}px rgba(0,0,0,0.3)` : 'none',
                fontStyle: state.currentStyles.italic ? 'italic' : 'normal',
                textDecoration: state.currentStyles.underline ? 'underline' : 'none',
                textTransform: state.currentStyles.uppercase ? 'uppercase' : (state.currentStyles.smallCaps ? 'lowercase' : 'none'),
                fontVariant: state.currentStyles.smallCaps ? 'small-caps' : 'normal'
            };

            // Apply styles to sample texts
            const sampleElements = document.querySelectorAll('.sample-text');
            sampleElements.forEach(element => {
                Object.keys(styles).forEach(property => {
                    if (property === 'backgroundColor') {
                        element.parentElement.style[property] = styles[property];
                    } else {
                        element.style[property] = styles[property];
                    }
                });
            });

            // Update comparison current
            const comparisonCurrent = document.getElementById('comparison-current');
            if (comparisonCurrent) {
                Object.keys(styles).forEach(property => {
                    if (property === 'backgroundColor') {
                        comparisonCurrent.parentElement.style[property] = styles[property];
                    } else {
                        comparisonCurrent.style[property] = styles[property];
                    }
                });
            }

            // Store current styles
            state.currentStyles = {
                fontFamily,
                fontSize: parseInt(fontSize),
                fontWeight: parseInt(fontWeight),
                lineHeight: parseFloat(lineHeight),
                letterSpacing: parseFloat(letterSpacing),
                wordSpacing: parseFloat(wordSpacing),
                textColor,
                backgroundColor,
                textShadow: parseInt(textShadow),
                ...state.currentStyles
            };

            updateLiveStats();
            updateMetrics();
            updateCSSOutput();
        }

        // Toggle checkbox states
        function toggleCheckbox(type) {
            const checkbox = document.getElementById(type + '-checkbox');
            const isChecked = checkbox.classList.contains('checked');
            
            if (isChecked) {
                checkbox.classList.remove('checked');
                state.currentStyles[type] = false;
            } else {
                checkbox.classList.add('checked');
                state.currentStyles[type] = true;
            }
            
            updatePreview();
        }

        // Toggle advanced features
        function toggleFeature(feature) {
            const toggle = document.getElementById(feature + '-toggle');
            const isActive = toggle.classList.contains('active');
            
            if (isActive) {
                toggle.classList.remove('active');
                state.features[feature] = false;
            } else {
                toggle.classList.add('active');
                state.features[feature] = true;
            }

            // Handle feature-specific logic
            if (feature === 'realTimeStats') {
                const statsPanel = document.getElementById('stats-panel');
                statsPanel.style.display = state.features.realTimeStats ? 'block' : 'none';
            }

            if (feature === 'darkMode') {
                document.body.classList.toggle('light-mode', !state.features.darkMode);
            }
        }

        // Apply typography presets
        function applyPreset(preset) {
            const presets = {
                elegant: {
                    fontFamily: 'Playfair Display',
                    fontSize: 18,
                    fontWeight: 400,
                    lineHeight: 1.8,
                    letterSpacing: 0.5,
                    wordSpacing: 2,
                    italic: true
                },
                modern: {
                    fontFamily: 'Inter',
                    fontSize: 16,
                    fontWeight: 500,
                    lineHeight: 1.5,
                    letterSpacing: -0.2,
                    wordSpacing: 0,
                    uppercase: false
                },
                classic: {
                    fontFamily: 'Crimson Text',
                    fontSize: 17,
                    fontWeight: 400,
                    lineHeight: 1.7,
                    letterSpacing: 0,
                    wordSpacing: 1,
                    italic: false
                },
                bold: {
                    fontFamily: 'Montserrat',
                    fontSize: 20,
                    fontWeight: 700,
                    lineHeight: 1.4,
                    letterSpacing: 1,
                    wordSpacing: 3,
                    uppercase: true
                },
                minimal: {
                    fontFamily: 'system-ui',
                    fontSize: 14,
                    fontWeight: 300,
                    lineHeight: 1.6,
                    letterSpacing: 0.3,
                    wordSpacing: 0,
                    italic: false
                },
                creative: {
                    fontFamily: 'Lora',
                    fontSize: 19,
                    fontWeight: 600,
                    lineHeight: 1.9,
                    letterSpacing: 1.5,
                    wordSpacing: 4,
                    smallCaps: true
                }
            };

            if (presets[preset]) {
                const settings = presets[preset];
                Object.keys(settings).forEach(key => {
                    const element = document.getElementById(key);
                    if (element && (element.type === 'range' || element.tagName === 'SELECT')) {
                        element.value = settings[key];
                    } else if (typeof settings[key] === 'boolean') {
                        const checkbox = document.getElementById(key + '-checkbox');
                        if (checkbox) {
                            if (settings[key]) {
                                checkbox.classList.add('checked');
                            } else {
                                checkbox.classList.remove('checked');
                            }
                        }
                        state.currentStyles[key] = settings[key];
                    }
                });
                updatePreview();
            }
        }

        // Switch between tabs
        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            document.getElementById(tabName + '-tab').style.display = 'block';

            if (tabName === 'metrics') {
                updateMetrics();
            }
        }

        // Update live statistics
        function updateLiveStats() {
            if (!state.features.realTimeStats) return;

            document.getElementById('live-font-size').textContent = state.currentStyles.fontSize + 'px';
            document.getElementById('live-line-height').textContent = state.currentStyles.lineHeight;
            
            // Count characters and words from sample text
            const sampleText = document.querySelector('.sample-text p');
            if (sampleText) {
                const text = sampleText.textContent;
                document.getElementById('live-char-count').textContent = text.length;
                document.getElementById('live-word-count').textContent = text.split(/\s+/).length;
            }
        }

        // Update typography metrics
        function updateMetrics() {
            // Calculate readability score (simplified)
            const fontSize = state.currentStyles.fontSize;
            const lineHeight = state.currentStyles.lineHeight;
            const readability = Math.min(10, Math.max(1, (fontSize * lineHeight) / 20 * 8));
            document.getElementById('readability-score').textContent = readability.toFixed(1);

            // Calculate contrast ratio (simplified)
            const contrast = calculateContrastRatio(state.currentStyles.textColor, state.currentStyles.backgroundColor);
            document.getElementById('contrast-ratio').textContent = contrast.toFixed(1);

            // Estimate characters per line
            const charPerLine = Math.floor((window.innerWidth * 0.6) / (fontSize * 0.6));
            document.getElementById('line-length').textContent = Math.min(80, Math.max(45, charPerLine));

            // Mock load time
            document.getElementById('font-load-time').textContent = (Math.random() * 0.5 + 0.1).toFixed(1) + 's';
        }

        // Simplified contrast ratio calculation
        function calculateContrastRatio(color1, color2) {
            // This is a simplified version - in production you'd want a more accurate calculation
            const luminance1 = getLuminance(color1);
            const luminance2 = getLuminance(color2);
            return Math.max(luminance1, luminance2) / Math.min(luminance1, luminance2);
        }

        function getLuminance(hex) {
            const r = parseInt(hex.substr(1, 2), 16) / 255;
            const g = parseInt(hex.substr(3, 2), 16) / 255;
            const b = parseInt(hex.substr(5, 2), 16) / 255;
            return 0.299 * r + 0.587 * g + 0.114 * b;
        }

        // Update CSS output
        function updateCSSOutput() {
            const css = generateCSS();
            document.getElementById('css-code').textContent = css;
        }

        // Generate CSS from current settings
        function generateCSS() {
            const styles = state.currentStyles;
            return `.typography-style {
    font-family: ${styles.fontFamily === 'system-ui' ? 'system-ui, -apple-system, sans-serif' : `'${styles.fontFamily}', sans-serif`};
    font-size: ${styles.fontSize}px;
    font-weight: ${styles.fontWeight};
    line-height: ${styles.lineHeight};
    letter-spacing: ${styles.letterSpacing}px;
    word-spacing: ${styles.wordSpacing}px;
    color: ${styles.textColor};
    background-color: ${styles.backgroundColor};
    ${styles.textShadow > 0 ? `text-shadow: 0 2px ${styles.textShadow}px rgba(0,0,0,0.3);` : ''}
    ${styles.italic ? 'font-style: italic;' : ''}
    ${styles.underline ? 'text-decoration: underline;' : ''}
    ${styles.uppercase ? 'text-transform: uppercase;' : ''}
    ${styles.smallCaps ? 'font-variant: small-caps;' : ''}
}`;
        }

        // Export functionality
        function exportCSS() {
            const css = generateCSS();
            const blob = new Blob([css], { type: 'text/css' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'typography-styles.css';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function copyCSS() {
            const css = document.getElementById('css-code').textContent;
            navigator.clipboard.writeText(css).then(() => {
                const btn = document.querySelector('.copy-btn');
                const originalText = btn.textContent;
                btn.textContent = 'Copied!';
                btn.style.background = 'var(--success)';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = 'var(--primary)';
                }, 2000);
            });
        }

        function exportJSON() {
            const json = JSON.stringify(state.currentStyles, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'typography-settings.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function importJSON() {
            document.getElementById('json-import').click();
        }

        function handleJSONImport(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const settings = JSON.parse(e.target.result);
                        applyImportedSettings(settings);
                    } catch (error) {
                        alert('Invalid JSON file');
                    }
                };
                reader.readAsText(file);
            }
        }

        function applyImportedSettings(settings) {
            Object.keys(settings).forEach(key => {
                const element = document.getElementById(key);
                if (element && (element.type === 'range' || element.type === 'color' || element.tagName === 'SELECT')) {
                    element.value = settings[key];
                } else if (typeof settings[key] === 'boolean') {
                    const checkbox = document.getElementById(key + '-checkbox');
                    if (checkbox) {
                        if (settings[key]) {
                            checkbox.classList.add('checked');
                        } else {
                            checkbox.classList.remove('checked');
                        }
                    }
                    state.currentStyles[key] = settings[key];
                }
            });
            updatePreview();
        }

        function generateSCSS() {
            const styles = state.currentStyles;
            const scss = `$typography: (
    font-family: ${styles.fontFamily === 'system-ui' ? 'system-ui, -apple-system, sans-serif' : `'${styles.fontFamily}', sans-serif`},
    font-size: ${styles.fontSize}px,
    font-weight: ${styles.fontWeight},
    line-height: ${styles.lineHeight},
    letter-spacing: ${styles.letterSpacing}px,
    word-spacing: ${styles.wordSpacing}px,
    color: ${styles.textColor},
    background-color: ${styles.backgroundColor}
);

.typography-style {
    @each $property, $value in $typography {
        #{$property}: $value;
    }
}`;
            
            const blob = new Blob([scss], { type: 'text/scss' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'typography-styles.scss';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Comparison functionality
        function saveForComparison() {
            state.previousStyles = {...state.currentStyles};
            const comparisonPrevious = document.getElementById('comparison-previous');
            const comparisonCurrent = document.getElementById('comparison-current');
            
            // Copy styles from current to previous
            comparisonPrevious.style.cssText = comparisonCurrent.style.cssText;
            comparisonPrevious.parentElement.style.backgroundColor = comparisonCurrent.parentElement.style.backgroundColor;
        }

        function swapComparison() {
            const temp = {...state.currentStyles};
            state.currentStyles = {...state.previousStyles};
            state.previousStyles = temp;
            
            // Update controls with swapped values
            Object.keys(state.currentStyles).forEach(key => {
                const element = document.getElementById(key);
                if (element && (element.type === 'range' || element.type === 'color' || element.tagName === 'SELECT')) {
                    element.value = state.currentStyles[key];
                }
            });
            
            updatePreview();
        }

        // Utility functions
        function resetToDefaults() {
            initializeDefaults();
            // Reset checkboxes
            document.querySelectorAll('.checkbox').forEach(checkbox => {
                checkbox.classList.remove('checked');
            });
            updatePreview();
        }

        function randomizeStyles() {
            const fonts = ['Inter', 'Playfair Display', 'Source Code Pro', 'Crimson Text', 'Montserrat', 'Lora', 'Roboto', 'Open Sans'];
            const weights = [300, 400, 500, 600, 700];
            
            document.getElementById('fontFamily').value = fonts[Math.floor(Math.random() * fonts.length)];
            document.getElementById('fontSize').value = Math.floor(Math.random() * 40) + 14;
            document.getElementById('fontWeight').value = weights[Math.floor(Math.random() * weights.length)];
            document.getElementById('lineHeight').value = (Math.random() * 1.5 + 1.2).toFixed(1);
            document.getElementById('letterSpacing').value = (Math.random() * 4 - 1).toFixed(1);
            document.getElementById('wordSpacing').value = Math.floor(Math.random() * 8);
            
            updatePreview();
        }

        // Animation utilities
        function animateOnScroll() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            });

            document.querySelectorAll('.animate-in').forEach(el => {
                observer.observe(el);
            });
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 's':
                        e.preventDefault();
                        exportCSS();
                        break;
                    case 'r':
                        e.preventDefault();
                        resetToDefaults();
                        break;
                    case 'd':
                        e.preventDefault();
                        randomizeStyles();
                        break;
                }
            }
        });

        // Auto-save to localStorage (with error handling for Claude environment)
        function saveToStorage() {
            try {
                if (typeof localStorage !== 'undefined') {
                    localStorage.setItem('typography-playground', JSON.stringify(state.currentStyles));
                }
            } catch (e) {
                // Silently handle storage errors in constrained environments
            }
        }

        function loadFromStorage() {
            try {
                if (typeof localStorage !== 'undefined') {
                    const saved = localStorage.getItem('typography-playground');
                    if (saved) {
                        const settings = JSON.parse(saved);
                        applyImportedSettings(settings);
                    }
                }
            } catch (e) {
                // Silently handle storage errors in constrained environments
            }
        }

        // Performance optimization
        let updateTimeout;
        function debounceUpdate() {
            clearTimeout(updateTimeout);
            updateTimeout = setTimeout(updatePreview, 150);
        }

        // Enhanced event listeners for smoother updates
        document.querySelectorAll('.range-input').forEach(input => {
            input.addEventListener('input', debounceUpdate);
        });

        // Load saved settings on startup
        window.addEventListener('load', loadFromStorage);
        
        // Save settings before page unload
        window.addEventListener('beforeunload', saveToStorage);
    </script>
</body>
</html>